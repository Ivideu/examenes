<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Quest: El Examen de M√∫sica</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f2ff;
            --secondary: #7000ff;
            --bg: #0d0d1a;
            --text: #ffffff;
            --correct: #39ff14;
            --wrong: #ff3131;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        #quiz-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 0 20px var(--primary);
        }

        h1 { font-family: 'Orbitron', sans-serif; text-align: center; color: var(--primary); text-transform: uppercase; }
        
        .question-box { display: none; }
        .question-box.active { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Botones */
        .btn-option {
            background: transparent;
            border: 1px solid var(--text);
            color: var(--text);
            padding: 12px;
            margin: 8px 0;
            width: 100%;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            text-align: left;
            font-size: 1rem;
        }

        .btn-option:hover { background: var(--secondary); border-color: var(--secondary); }

        /* Verdadero y Falso */
        .tf-container { display: flex; gap: 10px; }
        .btn-tf { flex: 1; text-align: center; font-weight: bold; }

        /* Emparejamiento */
        .matching-container { display: flex; justify-content: space-between; gap: 10px; margin-top: 10px; }
        .column { display: flex; flex-direction: column; gap: 10px; width: 48%; }
        .match-item { 
            background: #222; border: 1px solid var(--primary); padding: 8px; 
            border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-height: 40px;
            display: flex; align-items: center; justify-content: center; text-align: center;
        }
        .match-item.selected { background: var(--secondary); border-color: white; }

        #score-board { text-align: center; font-family: 'Orbitron'; font-size: 1.5rem; display: none; }
        .progress-bar { height: 5px; background: #333; margin-bottom: 20px; border-radius: 5px; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.5s; }

    </style>
</head>
<body>

<div id="quiz-container">
    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
    
    <div id="intro" class="question-box active">
        <h1>üéôÔ∏è Voice Quest</h1>
        <p style="text-align: center;">Demuestra que eres un experto en el instrumento vocal.</p>
        <button class="btn-option" style="text-align: center; font-weight: bold;" onclick="startQuiz()">¬°EMPEZAR EXAMEN!</button>
    </div>

    <div id="q1" class="question-box">
        <h3>1. ¬øCu√°l es el "motor" del instrumento vocal encargado de abastecer el aire?</h3>
        <button class="btn-option" onclick="check(1, 'A')">A) Aparato Fonador</button>
        <button class="btn-option" onclick="check(1, 'B')">B) Aparato Respiratorio</button>
        <button class="btn-option" onclick="check(1, 'C')">C) Aparato Resonador</button>
        <button class="btn-option" onclick="check(1, 'D')">D) Los Altavoces</button>
    </div>

    <div id="q2" class="question-box">
        <h3>2. ¬øTenemos exactamente 2 cuerdas vocales en total?</h3>
        <div class="tf-container">
            <button class="btn-option btn-tf" onclick="check(2, false)">VERDADERO</button>
            <button class="btn-option btn-tf" onclick="check(2, true)">FALSO</button>
        </div>
        <p style="font-size: 0.8rem; margin-top: 10px; color: #aaa;">Pista: Contamos con dos falsas y dos verdaderas.</p>
    </div>

    <div id="q3" class="question-box">
        <h3>3. ¬øCu√°l es la voz masculina m√°s aguda (equivalente a los antiguos Castrati)?</h3>
        <button class="btn-option" onclick="check(3, 'A')">A) Tenor</button>
        <button class="btn-option" onclick="check(3, 'B')">B) Bajo</button>
        <button class="btn-option" onclick="check(3, 'C')">C) Contratenor</button>
        <button class="btn-option" onclick="check(3, 'D')">D) Bar√≠tono</button>
    </div>

    <div id="q4" class="question-box">
        <h3>4. Empareja cada agrupaci√≥n con su descripci√≥n:</h3>
        <div class="matching-container">
            <div class="column" id="col-left">
                <div class="match-item" onclick="selectMatch('L', this)" data-val="1">Escolan√≠a</div>
                <div class="match-item" onclick="selectMatch('L', this)" data-val="2">D√∫o</div>
                <div class="match-item" onclick="selectMatch('L', this)" data-val="3">Orfe√≥n</div>
            </div>
            <div class="column" id="col-right">
                <div class="match-item" onclick="selectMatch('R', this)" data-val="2">2 Cantantes</div>
                <div class="match-item" onclick="selectMatch('R', this)" data-val="3">Hasta 100 voces</div>
                <div class="match-item" onclick="selectMatch('R', this)" data-val="1">Voces infantiles</div>
            </div>
        </div>
        <button class="btn-option" style="margin-top: 20px; text-align: center;" onclick="checkMatching()">ENVIAR PAREJAS</button>
    </div>

    <div id="score-board">
        <h2 id="result-text">¬°Misi√≥n cumplida!</h2>
        <p>Tu puntuaci√≥n es:</p>
        <div id="final-score" style="font-size: 4rem; color: var(--primary);">0</div>
        <button class="btn-option" style="text-align: center;" onclick="location.reload()">REINTENTAR</button>
    </div>
</div>

<script>
    let currentStep = 0;
    let score = 0;
    const totalQuestions = 4;

    function startQuiz() {
        showStep(1);
    }

    function showStep(step) {
        document.querySelectorAll('.question-box').forEach(el => el.classList.remove('active'));
        if(step <= totalQuestions) {
            document.getElementById('q' + step).classList.add('active');
            document.getElementById('progress').style.width = ((step-1) / totalQuestions * 100) + '%';
        } else {
            showResults();
        }
        currentStep = step;
    }

    function check(qNum, answer) {
        let correct = false;
        if(qNum === 1 && answer === 'B') correct = true;
        if(qNum === 2 && answer === true) correct = true; // Es Falso que tengamos solo 2
        if(qNum === 3 && answer === 'C') correct = true;

        if(correct) score += 2.5;
        showStep(currentStep + 1);
    }

    // L√≥gica para emparejar
    let selectedL = null;
    let selectedR = null;
    let matchesFound = 0;

    function selectMatch(side, element) {
        if(side === 'L') {
            document.querySelectorAll('#col-left .match-item').forEach(i => i.classList.remove('selected'));
            selectedL = element;
        } else {
            document.querySelectorAll('#col-right .match-item').forEach(i => i.classList.remove('selected'));
            selectedR = element;
        }
        element.classList.add('selected');

        if(selectedL && selectedR) {
            if(selectedL.dataset.val === selectedR.dataset.val) {
                selectedL.style.visibility = 'hidden';
                selectedR.style.visibility = 'hidden';
                matchesFound++;
                selectedL = null; selectedR = null;
            } else {
                alert("¬°No coinciden! Intenta otra vez.");
                selectedL.classList.remove('selected');
                selectedR.classList.remove('selected');
                selectedL = null; selectedR = null;
            }
        }
    }

    function checkMatching() {
        if(matchesFound === 3) score += 2.5;
        showStep(5);
    }

    function showResults() {
        document.getElementById('progress').style.width = '100%';
        document.getElementById('score-board').style.display = 'block';
        document.getElementById('final-score').innerText = score.toFixed(1) + "/10";
        if(score < 5) document.getElementById('result-text').innerText = "¬°Sigue practicando, recluta!";
    }
</script>

</body>
</html>
