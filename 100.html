<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Exam 100 - Master Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --success: #27ae60; --error: #e74c3c; --bg: #ecf0f1; }
        body { font-family: 'Montserrat', sans-serif; background: var(--bg); color: var(--primary); padding: 10px; display: flex; justify-content: center; }
        .quiz-container { background: white; width: 100%; max-width: 900px; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; }
        .stats-header { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 15px; font-size: 1.1rem; }
        .progress-bar { height: 12px; background: #dcdde1; border-radius: 6px; margin-bottom: 25px; overflow: hidden; }
        #fill { height: 100%; background: var(--accent); width: 0%; transition: 0.3s; }
        .badge { background: var(--primary); color: white; padding: 5px 12px; border-radius: 5px; font-size: 0.75rem; margin-bottom: 10px; display: inline-block; }
        .question-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 20px; line-height: 1.4; }
        input { width: 100%; padding: 14px; border: 2px solid #bdc3c7; border-radius: 10px; font-size: 1.1rem; margin-bottom: 10px; box-sizing: border-box; font-family: inherit; }
        input:focus { border-color: var(--accent); outline: none; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .opt-btn { padding: 15px; border: 2px solid #bdc3c7; border-radius: 10px; background: white; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .opt-btn:hover { background: var(--accent); color: white; border-color: var(--accent); }
        .check-btn { background: var(--accent); color: white; border: none; padding: 18px; width: 100%; border-radius: 10px; font-size: 1.2rem; font-weight: 700; cursor: pointer; margin-top: 10px; }
        .feedback { margin-top: 20px; padding: 15px; border-radius: 10px; display: none; text-align: center; font-weight: bold; }
        .is-correct { background: #dff9fb; color: var(--success); border: 1px solid var(--success); }
        .is-wrong { background: #ffeaa7; color: var(--error); border: 1px solid var(--error); }
    </style>
</head>
<body>

<div class="quiz-container">
    <div class="stats-header">
        <span id="q-counter">Pregunta: 1/100</span>
        <span id="score-val">Puntos: 0</span>
    </div>
    <div class="progress-bar"><div id="fill"></div></div>
    
    <div id="content-area"></div>
    <div id="msg" class="feedback"></div>
</div>

<script>
// DATOS EXTRA√çDOS DE TUS DOCUMENTOS
const verbs = [
    {inf:"be", pas:"was/were", part:"been", esp:"ser/estar"}, {inf:"beat", pas:"beat", part:"beaten", esp:"golpear"},
    {inf:"become", pas:"became", part:"become", esp:"llegar a ser"}, {inf:"begin", pas:"began", part:"begun", esp:"empezar"},
    {inf:"bite", pas:"bit", part:"bitten", esp:"morder"}, {inf:"break", pas:"broke", part:"broken", esp:"romper"},
    {inf:"bring", pas:"brought", part:"brought", esp:"traer"}, {inf:"build", pas:"built", part:"built", esp:"construir"},
    {inf:"buy", pas:"bought", part:"bought", esp:"comprar"}, {inf:"choose", pas:"chose", part:"chosen", esp:"escoger"},
    {inf:"come", pas:"came", part:"come", esp:"venir"}, {inf:"do", pas:"did", part:"done", esp:"hacer"},
    {inf:"draw", pas:"drew", part:"drawn", esp:"dibujar"}, {inf:"drink", pas:"drank", part:"drunk", esp:"beber"},
    {inf:"drive", pas:"drove", part:"driven", esp:"conducir"}, {inf:"eat", pas:"ate", part:"eaten", esp:"comer"},
    {inf:"fly", pas:"flew", part:"flown", esp:"volar"}, {inf:"forget", pas:"forgot", part:"forgotten", esp:"olvidar"},
    {inf:"give", pas:"gave", part:"given", esp:"dar"}, {inf:"go", pas:"went", part:"gone", esp:"ir"},
    {inf:"hear", pas:"heard", part:"heard", esp:"oir"}, {inf:"know", pas:"knew", part:"known", esp:"saber"},
    {inf:"leave", pas:"left", part:"left", esp:"dejar"}, {inf:"lose", pas:"lost", part:"lost", esp:"perder"},
    {inf:"make", pas:"made", part:"made", esp:"fabricar"}, {inf:"read", pas:"read", part:"read", esp:"leer"},
    {inf:"see", pas:"saw", part:"seen", esp:"ver"}, {inf:"speak", pas:"spoke", part:"spoken", esp:"hablar"},
    {inf:"swim", pas:"swam", part:"swum", esp:"nadar"}, {inf:"write", pas:"wrote", part:"written", esp:"escribir"}
];

const vocab = [
    {en:"bean", es:"jud√≠a"}, {en:"sausage", es:"salchicha"}, {en:"shark", es:"tibur√≥n"},
    {en:"neighbourhood", es:"urbanizaci√≥n"}, {en:"petrol station", es:"gasolinera"},
    {en:"musician", es:"m√∫sico"}, {en:"conquer", es:"conquistar"}, {en:"jewellery", es:"joyas"},
    {en:"carpet", es:"alfombra"}, {en:"cupboard", es:"armario"}, {en:"waterfall", es:"cascada"},
    {en:"swimsuit", es:"ba√±ador"}, {en:"boring", es:"aburrido"}, {en:"expensive", es:"caro"},
    {en:"dangerous", es:"peligroso"}, {en:"scientist", es:"cient√≠fico"}, {en:"mirror", es:"espejo"},
    {en:"pillow", es:"almohada"}, {en:"island", es:"isla"}, {en:"mountain", es:"monta√±a"},
    {en:"stomach", es:"est√≥mago"}, {en:"plumber", es:"fontanero"}, {en:"waiter", es:"camarero"},
    {en:"journey", es:"viaje"}, {en:"furniture", es:"mobiliario"}, {en:"blanket", es:"manta"},
    {en:"scuba diving", es:"buceo"}, {en:"forest", es:"bosque"}, {en:"angry", es:"enfadado"},
    {en:"bridge", es:"puente"}, {en:"theatre", es:"teatro"}, {en:"clothes", es:"ropa"}
];

let questions = [];
let currentIndex = 0;
let score = 0;

function setup() {
    // Generar 100 preguntas mezclando tipos
    for(let i=0; i<100; i++) {
        let type = Math.floor(Math.random()*4);
        if(type === 0) { // Verbos 3 tiempos
            let v = verbs[Math.floor(Math.random()*verbs.length)];
            questions.push({type:'verb', data: v});
        } else if(type === 1) { // Multi opci√≥n
            let v = vocab[Math.floor(Math.random()*vocab.length)];
            questions.push({type:'multi', data: v});
        } else { // Traducci√≥n libre (Eng-Esp o Esp-Eng)
            let v = vocab[Math.floor(Math.random()*vocab.length)];
            questions.push({type:'free', data: v, lang: Math.random() > 0.5 ? 'en' : 'es'});
        }
    }
    render();
}

function render() {
    if(currentIndex >= 100) return finish();
    
    document.getElementById('q-counter').innerText = `Pregunta: ${currentIndex + 1}/100`;
    document.getElementById('fill').style.width = (currentIndex + 1) + "%";
    document.getElementById('msg').style.display = 'none';
    
    const area = document.getElementById('content-area');
    const q = questions[currentIndex];
    
    if(q.type === 'verb') {
        area.innerHTML = `
            <span class="badge">VERBOS IRREGULARES</span>
            <div class="question-title">Escribe las 3 formas de: "${q.data.esp}"</div>
            <input type="text" id="v1" placeholder="Infinitivo (ej: break)">
            <input type="text" id="v2" placeholder="Pasado (ej: broke)">
            <input type="text" id="v3" placeholder="Participio (ej: broken)">
            <button class="check-btn" onclick="checkVerb()">Validar</button>
        `;
    } else if(q.type === 'multi') {
        let opts = [q.data.es];
        while(opts.length < 4) {
            let r = vocab[Math.floor(Math.random()*vocab.length)].es;
            if(!opts.includes(r)) opts.push(r);
        }
        opts.sort(()=>Math.random()-0.5);
        area.innerHTML = `
            <span class="badge">VOCABULARIO</span>
            <div class="question-title">¬øC√≥mo se traduce "${q.data.en}"?</div>
            <div class="options-grid">
                ${opts.map(o => `<button class="opt-btn" onclick="checkMulti('${o}','${q.data.es}')">${o}</button>`).join('')}
            </div>
        `;
    } else {
        const target = q.lang === 'en' ? q.data.es : q.data.en;
        const source = q.lang === 'en' ? q.data.en : q.data.es;
        area.innerHTML = `
            <span class="badge">TRADUCCI√ìN LIBRE</span>
            <div class="question-title">Traduce al ${q.lang === 'en' ? 'Espa√±ol' : 'Ingl√©s'}: "${source}"</div>
            <input type="text" id="free-ans" placeholder="Escribe aqu√≠...">
            <button class="check-btn" onclick="checkFree('${target}')">Comprobar</button>
        `;
    }
}

function feedback(correct, msgText) {
    const m = document.getElementById('msg');
    m.style.display = 'block';
    m.className = "feedback " + (correct ? "is-correct" : "is-wrong");
    m.innerText = (correct ? "‚úî " : "‚úò ") + msgText;
    if(correct) { score++; document.getElementById('score-val').innerText = "Puntos: " + score; }
    currentIndex++;
    setTimeout(render, 1800);
}

function checkVerb() {
    const q = questions[currentIndex].data;
    const a1 = document.getElementById('v1').value.trim().toLowerCase();
    const a2 = document.getElementById('v2').value.trim().toLowerCase();
    const a3 = document.getElementById('v3').value.trim().toLowerCase();
    const ok = a1 === q.inf && a2 === q.pas && a3 === q.part;
    feedback(ok, `Era: ${q.inf} - ${q.pas} - ${q.part}`);
}

function checkMulti(sel, corr) {
    feedback(sel === corr, `La respuesta correcta era: ${corr}`);
}

function checkFree(corr) {
    const val = document.getElementById('free-ans').value.trim().toLowerCase();
    feedback(val === corr.toLowerCase(), `Respuesta: ${corr}`);
}

function finish() {
    document.getElementById('content-area').innerHTML = `
        <div style="text-align:center; padding: 40px;">
            <h1>üèÅ ¬°Examen Finalizado!</h1>
            <p style="font-size:1.8rem">Nota: <strong>${score}/100</strong></p>
            <button class="check-btn" onclick="location.reload()">Empezar de nuevo</button>
        </div>
    `;
}

setup();
</script>
</body>
</html>
