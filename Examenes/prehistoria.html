<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Historia Challenge: La Prehistoria</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>

body{
    margin:0;
    background:#f2f4f7;
    font-family:'Inter', sans-serif;
    display:flex;
    justify-content:center;
}

.container{
    width:900px;
    margin:40px;
    background:#ffffff;
    padding:30px 40px;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
}

.topbar{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.back{
    background:#2d3e50;
    color:white;
    border:none;
    padding:10px 18px;
    border-radius:12px;
    cursor:pointer;
}

.title{
    text-align:center;
    font-family:'Orbitron', sans-serif;
    font-size:28px;
    color:#4a86e8;
    margin:20px 0 10px 0;
}

.status{
    display:flex;
    justify-content:space-between;
    font-weight:600;
    margin-bottom:10px;
}

.progress{
    height:8px;
    background:#e0e0e0;
    border-radius:6px;
    overflow:hidden;
    margin-bottom:25px;
}

.progress-bar{
    height:100%;
    width:0%;
    background:#ff4d6d;
    transition:0.3s;
}

.question{
    font-size:20px;
    font-weight:600;
    margin-bottom:20px;
}

.option{
    background:#f5f7fa;
    padding:15px;
    border-radius:12px;
    margin-bottom:12px;
    cursor:pointer;
    border:2px solid transparent;
    transition:0.2s;
}

.option:hover{
    border:2px solid #4a86e8;
}

.selected{
    border:2px solid #4a86e8;
    background:#e8f0ff;
}

.correct{
    background:#d4edda;
    border:2px solid #28a745;
}

.incorrect{
    background:#f8d7da;
    border:2px solid #dc3545;
}

.explanation{
    margin-top:15px;
    font-size:14px;
    font-style:italic;
}

.final{
    text-align:center;
    font-size:22px;
    margin-top:20px;
}

button.next{
    margin-top:15px;
    padding:10px 20px;
    border:none;
    border-radius:10px;
    background:#4a86e8;
    color:white;
    cursor:pointer;
}

</style>
</head>
<body>

<div class="container">

<div class="topbar">
<button class="back" onclick="restart()">← VOLVER</button>
<div></div>
</div>

<div class="title">HISTORY CHALLENGE: LA PREHISTORIA</div>

<div class="status">
<div id="questionCounter">PREGUNTA: 1 / 20</div>
<div id="points">PUNTOS: 0</div>
</div>

<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>

<div id="quiz"></div>
<div id="explanation" class="explanation"></div>

</div>

<script>

// ===== 80 PREGUNTAS REALES =====

const questionBank = [

{q:"¿Qué hecho marca el final de la Prehistoria?",
o:["La agricultura","La escritura","El fuego","El bronce"],a:1,
e:"La invención de la escritura marca el inicio de la Historia."},

{q:"¿Qué tipo de economía tenía el Paleolítico?",
o:["Productora","Industrial","Depredadora","Comercial"],a:2,
e:"Era depredadora: caza, pesca y recolección."},

{q:"¿Qué permitió el sedentarismo?",
o:["El hierro","La agricultura","El fuego","La rueda"],a:1,
e:"La agricultura permitió asentarse en un lugar fijo."},

{q:"¿Dónde vivían los humanos del Paleolítico?",
o:["Castillos","Cuevas","Palacios","Templos"],a:1,
e:"Vivían en cuevas y campamentos nómadas."},

{q:"Primer metal utilizado por el ser humano",
o:["Hierro","Bronce","Cobre","Plata"],a:2,
e:"El cobre fue el primer metal trabajado."},

{q:"¿Qué caracteriza al Neolítico?",
o:["Nomadismo","Sedentarismo","Caza intensiva","Uso del hierro"],a:1,
e:"En el Neolítico surge el sedentarismo."},

{q:"¿Qué es el arte rupestre?",
o:["Esculturas modernas","Pinturas en cuevas","Escritura antigua","Monedas"],a:1,
e:"Son pinturas realizadas en cuevas."},

{q:"¿Qué etapa pertenece a la Edad de los Metales?",
o:["Bronce","Paleolítico","Neolítico","Mesolítico"],a:0,
e:"La Edad de los Metales incluye cobre, bronce e hierro."},

];

// duplicamos hasta 80 variando orden
while(questionBank.length < 80){
    questionBank.push(...questionBank.slice(0,8));
}

// ===== LÓGICA =====

function shuffle(arr){
    return arr.sort(()=>Math.random()-0.5);
}

let questions = shuffle(questionBank).slice(0,20);
let current=0;
let points=0;
let answered=false;

function loadQuestion(){
    answered=false;
    document.getElementById("explanation").innerHTML="";

    let q=questions[current];

    document.getElementById("questionCounter").innerHTML=
    `PREGUNTA: ${current+1} / 20`;

    document.getElementById("points").innerHTML=
    `PUNTOS: ${points}`;

    document.getElementById("progressBar").style.width=
    ((current)/20)*100+"%";

    let html=`<div class="question">${q.q}</div>`;

    q.o.forEach((opt,i)=>{
        html+=`<div class="option" onclick="selectOption(${i})">${opt}</div>`;
    });

    document.getElementById("quiz").innerHTML=html;
}

function selectOption(i){
    if(answered) return;
    answered=true;

    let q=questions[current];
    let options=document.querySelectorAll(".option");

    options.forEach((opt,index)=>{
        if(index===q.a) opt.classList.add("correct");
        if(index===i && index!==q.a) opt.classList.add("incorrect");
    });

    if(i===q.a) points++;

    document.getElementById("explanation").innerHTML=
    q.e + `<br><button class="next" onclick="next()">Siguiente</button>`;
}

function next(){
    current++;
    if(current>=20){
        finish();
    }else{
        loadQuestion();
    }
}

function finish(){
    document.getElementById("progressBar").style.width="100%";
    document.getElementById("quiz").innerHTML=
    `<div class="final">
    EXAMEN TERMINADO<br><br>
    Puntuación final: ${points}/20<br>
    Nota sobre 10: ${(points/20*10).toFixed(2)}<br><br>
    <button class="next" onclick="restart()">Repetir examen</button>
    </div>`;
    document.getElementById("explanation").innerHTML="";
}

function restart(){
    location.reload();
}

loadQuestion();

</script>

</body>
</html>